<div id="calendar-body">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <button 
        hx-get="{% url 'duty_roster:duty_calendar_month' year=prev_year month=prev_month %}"
        hx-target="#calendar-body"
        hx-swap="innerHTML"
        class="btn btn-sm btn-outline-primary"
        title="Go to {{ prev_month_name }} {{ prev_year }}"
      >
        <i class="fas fa-chevron-left"></i> {{ prev_month_name }}
      </button>
  
      <div class="text-center">
        <h3 class="mb-2 text-primary fw-bold">ðŸ“… {{ formatted_date }}</h3>
        
        <!-- View Toggle -->
        <div class="btn-group btn-group-sm" role="group" aria-label="Calendar View Toggle">
          <input type="radio" class="btn-check" name="view-toggle" id="calendar-view" autocomplete="off" 
                 onchange="toggleCalendarView('calendar')" checked>
          <label class="btn btn-outline-secondary" for="calendar-view">
            <i class="fas fa-calendar-alt"></i> Calendar
          </label>
          
          <input type="radio" class="btn-check" name="view-toggle" id="agenda-view" autocomplete="off" 
                 onchange="toggleCalendarView('agenda')">
          <label class="btn btn-outline-secondary" for="agenda-view">
            <i class="fas fa-list"></i> Agenda
          </label>
        </div>
      </div>
  
      <button 
        hx-get="{% url 'duty_roster:duty_calendar_month' year=next_year month=next_month %}"
        hx-target="#calendar-body"
        hx-swap="innerHTML"
        class="btn btn-sm btn-outline-primary"
        title="Go to {{ next_month_name }} {{ next_year }}"
      >
        {{ next_month_name }} <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  
    <!-- Calendar View -->
    <div id="calendar-view-content">
      {% include "duty_roster/_calendar_table.html" %}
    </div>
    
    <!-- Agenda View -->
    <div id="agenda-view-content" style="display: none;">
      {% include "duty_roster/_calendar_agenda.html" %}
    </div>
    
    <script>
      function toggleCalendarView(view) {
        const calendarView = document.getElementById('calendar-view-content');
        const agendaView = document.getElementById('agenda-view-content');
        
        if (view === 'calendar') {
          calendarView.style.display = 'block';
          agendaView.style.display = 'none';
        } else if (view === 'agenda') {
          calendarView.style.display = 'none';
          agendaView.style.display = 'block';
        }
      }
    </script>
  </div>
  