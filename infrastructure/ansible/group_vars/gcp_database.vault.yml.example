# GCP Database Server Secrets - Vault Template
#
# This file should be encrypted with ansible-vault.
#
# SETUP INSTRUCTIONS:
#
# 1. Create vault password file (if not already done):
#    echo "your-secure-vault-password" > ~/.ansible_vault_pass
#    chmod 600 ~/.ansible_vault_pass
#
# 2. Create the directory structure:
#    mkdir -p group_vars/localhost
#
# 3. Copy and encrypt this file:
#    cp group_vars/gcp_database.vault.yml.example group_vars/localhost/vault.yml
#    ansible-vault encrypt group_vars/localhost/vault.yml \
#      --vault-password-file ~/.ansible_vault_pass
#
# OR use the automated script:
#    infrastructure/scripts/initialize-vault-secrets.sh group_vars/localhost/vault.yml
#
# NOTE: Use group_vars/localhost/ not group_vars/gcp_database/
# because the playbook targets 'hosts: localhost' for provisioning.

---
# ALTERNATIVE: Use the automated secret generator:
#    ./infrastructure/scripts/initialize-vault-secrets.sh \
#      infrastructure/ansible/group_vars/gcp_database/vault.yml
#
# TO EDIT LATER:
#    ansible-vault edit group_vars/gcp_database/vault.yml \
#      --vault-password-file ~/.ansible_vault_pass
#
# TO VIEW:
#    ansible-vault view group_vars/gcp_database/vault.yml \
#      --vault-password-file ~/.ansible_vault_pass
#
# GENERATE SECRETS:
#   Database password: ./infrastructure/scripts/generate-db-password.sh
#   Django secret: ./infrastructure/scripts/generate-django-secret.sh

---
# ============================================================
# POSTGRESQL PASSWORDS
# ============================================================

# Single-tenant mode password (used when postgresql_multi_tenant: false)
vault_postgresql_password: "CHANGE_ME_GENERATE_WITH_SCRIPT"

# Multi-tenant passwords (used when postgresql_multi_tenant: true)
# Add one entry for each tenant defined in vars.yml
# IMPORTANT: Replace CHANGE_ME placeholders before encrypting this file!
# Use scripts/generate-db-password.sh or scripts/initialize-vault-secrets.sh
vault_postgresql_password_ssc: "CHANGE_ME_GENERATE_WITH_SCRIPT"
vault_postgresql_password_masa: "CHANGE_ME_GENERATE_WITH_SCRIPT"
# WARNING: Only use lookup('env', ...) in tightly controlled CI/CD jobs where
# secrets are injected at runtime and never stored in this vault file.
# Example (CI/CD-only): load from environment instead of committing a value:
# vault_postgresql_password_nfss: "{{ lookup('env', 'NFSS_DB_PASSWORD') }}"

# ============================================================
# DJANGO SECRET KEY
# ============================================================
# Generate with: ./infrastructure/scripts/generate-django-secret.sh
# Or: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"

vault_django_secret_key: "CHANGE_ME_GENERATE_WITH_SCRIPT"

# ============================================================
# OPTIONAL: GOOGLE OAUTH
# ============================================================
# Only needed if using Google OAuth for authentication
# Get these from: https://console.cloud.google.com/apis/credentials

# vault_google_oauth_client_id: "your-client-id.apps.googleusercontent.com"
# vault_google_oauth_client_secret: "your-client-secret"

# ============================================================
# OPTIONAL: SMTP CREDENTIALS
# ============================================================
# For external SMTP relay (SendGrid, SMTP2GO, etc.)

# vault_smtp_relay_username: "your-smtp-username"
# vault_smtp_relay_password: "your-smtp-password"
