# GCP Database Server Secrets
#
# ⚠️  NOTE: Canonical example is ../group_vars/gcp_database.vault.yml.example (parent directory)
#
# VAULT ARCHITECTURE: One Vault To Rule Them All
#
#   Master vault (single source of truth):
#     ../group_vars/localhost/vault.yml
#
#   Database passwords are in the master vault:
#     vault_postgresql_password_ssc
#     vault_postgresql_password_masa
#
# To edit database passwords:
#   ansible-vault edit ../group_vars/localhost/vault.yml --vault-password-file ~/.ansible_vault_pass
#
# See: ../group_vars/localhost.vault.yml.example for full documentation
#
# ⚠️  IMPORTANT: Database secrets are in the MASTER vault, not here!
#
# VAULT ARCHITECTURE: One Vault To Rule Them All
#
#   Master vault (single source of truth):
#     group_vars/localhost/vault.yml
#
#   Contains all database passwords:
#     vault_postgresql_password_ssc
#     vault_postgresql_password_masa
#
# Database playbooks automatically read from localhost/vault.yml.
# You do NOT need a separate vault file here.
#
# To edit database passwords:
#   ansible-vault edit group_vars/localhost/vault.yml --vault-password-file ~/.ansible_vault_pass
#
# See docs/runbooks/ansible-playbook-guide.md for password management workflows.

---
# ALTERNATIVE: Use the automated secret generator:
#    ./infrastructure/scripts/initialize-vault-secrets.sh \
#      infrastructure/ansible/group_vars/gcp_database/vault.yml
#
# TO EDIT LATER:
#    ansible-vault edit group_vars/gcp_database/vault.yml \
#      --vault-password-file ~/.ansible_vault_pass
#
# TO VIEW:
#    ansible-vault view group_vars/gcp_database/vault.yml \
#      --vault-password-file ~/.ansible_vault_pass
#
# GENERATE SECRETS:
#   Database password: ./infrastructure/scripts/generate-db-password.sh
#   Django secret: ./infrastructure/scripts/generate-django-secret.sh

---
# ============================================================
# POSTGRESQL PASSWORDS
# ============================================================

# Single-tenant mode password (used when postgresql_multi_tenant: false)
vault_postgresql_password: "CHANGE_ME_GENERATE_WITH_SCRIPT"

# Multi-tenant passwords (used when postgresql_multi_tenant: true)
# Add one entry for each tenant defined in vars.yml
# IMPORTANT: Replace CHANGE_ME placeholders before encrypting this file!
# Use scripts/generate-db-password.sh or scripts/initialize-vault-secrets.sh
vault_postgresql_password_ssc: "CHANGE_ME_GENERATE_WITH_SCRIPT"
vault_postgresql_password_masa: "CHANGE_ME_GENERATE_WITH_SCRIPT"
# WARNING: Only use lookup('env', ...) in tightly controlled CI/CD jobs where
# secrets are injected at runtime and never stored in this vault file.
# Example (CI/CD-only): load from environment instead of committing a value:
# vault_postgresql_password_nfss: "{{ lookup('env', 'NFSS_DB_PASSWORD') }}"

# ============================================================
# DJANGO SECRET KEY
# ============================================================
# Generate with: ./infrastructure/scripts/generate-django-secret.sh
# Or: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"

vault_django_secret_key: "CHANGE_ME_GENERATE_WITH_SCRIPT"

# ============================================================
# OPTIONAL: SMTP CREDENTIALS
# ============================================================
# For external SMTP relay (SendGrid, SMTP2GO, etc.)

# vault_smtp_relay_username: "your-smtp-username"
# vault_smtp_relay_password: "your-smtp-password"
