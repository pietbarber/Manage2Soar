# GCP Mail Server Inventory
#
# COPY THIS FILE AND FILL IN YOUR VALUES:
#   cp gcp_mail.yml.example gcp_mail.yml
#
# gcp_mail.yml is gitignored - NEVER commit this file!
#
# This inventory supports two modes:
#
# 1. GCP PROVISIONING MODE (default):
#    Ansible creates the VM in GCP, then configures it.
#    Leave gcp_mail_servers empty - VM is added dynamically.
#
# 2. EXISTING VM MODE:
#    You already have a VM and just want to configure the mail server.
#    Fill in gcp_mail_servers with your VM's IP.
#    Set gcp_vm_provision: false in group_vars.

---
all:
  children:
    # ============================================================
    # GCP PROVISIONING MODE
    # ============================================================
    # The gcp-vm role runs on localhost to provision GCP resources.
    # After provisioning, the new VM is added to gcp_mail_servers
    # group dynamically.
    #
    # Leave this section as-is for GCP provisioning mode.
    localhost:
      hosts:
        localhost:
          ansible_connection: local
          ansible_python_interpreter: "{{ ansible_playbook_python }}"

    # ============================================================
    # MAIL SERVERS
    # ============================================================
    # For GCP provisioning mode: Leave this empty - populated dynamically
    # For existing VM mode: Add your server(s) here
    gcp_mail_servers:
      hosts: {}
      # Uncomment and fill in for existing VM mode:
      # hosts:
      #   m2s-mail:
      #     ansible_host: 35.123.45.67
      #     ansible_user: your-ssh-username
      #     ansible_ssh_private_key_file: ~/.ssh/gcp-key

  vars:
    # Common variables can go here
    # But prefer putting them in group_vars/gcp_mail/vars.yml
