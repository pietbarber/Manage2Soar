{% extends "base.html" %}

{% block content %}
  <div class="homepage-content">
    <div style="display:flex;align-items:center;justify-content:space-between;">
      <h1 style="margin:0">{{ page.title }}</h1>
      {% if can_edit_page %}
        <div>
          <a class="btn btn-sm btn-primary me-2" href="{% url 'cms:edit_homepage' page.id %}">✏️ Edit Homepage</a>
          <a class="btn btn-sm btn-outline-secondary" href="{% url 'admin:cms_homepagecontent_change' page.pk %}">⚙️ Admin</a>
        </div>
      {% endif %}
    </div>
    <div class="cms-content">
      {{ page.content|safe }}
    </div>
    {% if page.images.all %}
      <div class="homepage-gallery">
        {% for img in page.images.all %}
          <div class="gallery-image">
            <img src="{{ img.image.url }}" alt="{{ img.caption }}">
            {% if img.caption %}
              <div class="caption">{{ img.caption }}</div>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
{% endblock %}
